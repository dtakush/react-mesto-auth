{"ast":null,"code":"export class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  } //Запрос карточек с сервера\n\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: this.headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Добавление карточки на сервер\n\n\n  addCard(card) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        link: card.link,\n        name: card.name\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Запрос информации о пользователе    \n\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this.headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Изменение информации о пользователе\n\n\n  setUserInfo(items) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: items.name,\n        about: items.about\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Удаление карточки\n\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Добавление лайка\n\n\n  setLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Удаление лайка\n\n\n  deleteLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  } //Изменение аватара\n\n\n  setNewAvatar(avatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n}\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-23',\n  headers: {\n    authorization: '3f3bc69b-6834-471f-8bfa-0881762188af',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"sources":["/Users/dariatakush/dev/mesto-react/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","getInitialCards","fetch","method","then","res","ok","json","Promise","reject","status","addCard","card","body","JSON","stringify","link","name","getUserInfo","setUserInfo","items","about","deleteCard","id","setLike","deleteLike","setNewAvatar","avatar","api","authorization"],"mappings":"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","sourcesContent":["export class Api {\n    constructor({baseUrl, headers}) {\n      this.baseUrl = baseUrl;\n      this.headers = headers\n    }\n\n    //Запрос карточек с сервера\n    getInitialCards() {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: 'GET',\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n\n    //Добавление карточки на сервер\n    addCard(card) {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          link: card.link,\n          name: card.name,\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n  \n    //Запрос информации о пользователе    \n     getUserInfo() {\n      return fetch(`${this.baseUrl}/users/me`, {\n        method: 'GET',\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n\n    //Изменение информации о пользователе\n    setUserInfo(items) {\n      return fetch(`${this.baseUrl}/users/me`, {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: items.name,\n          about: items.about\n        })\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n\n    //Удаление карточки\n    deleteCard(id) {\n      return fetch(`${this.baseUrl}/cards/${id}`, {\n        method: 'DELETE',\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n\n    //Добавление лайка\n    setLike(id) {\n      return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n\n    //Удаление лайка\n    deleteLike(id) {\n      return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n  \n    //Изменение аватара\n    setNewAvatar(avatar) {\n      return fetch(`${this.baseUrl}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar: avatar,\n        })\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n    }\n    }\n\n\n    const api = new Api({\n      baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-23',\n      headers: {\n        authorization: '3f3bc69b-6834-471f-8bfa-0881762188af',\n        'Content-Type': 'application/json'\n      }\n  });\n\n  export default api;"]},"metadata":{},"sourceType":"module"}